:root{
  --amber:#f59e0b; --amber-100:#fef3c7; --bg:#fff8ea; --ink:#1f2937;
  --border:#e5e7eb; --shadow:0 10px 30px rgba(0,0,0,.08);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;background:linear-gradient(var(--bg),#fff);color:var(--ink);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Noto Sans TC,Arial,sans-serif
}
.wrap{max-width:1180px;margin:auto;padding:20px 18px 40px}


/* ===== Header 置中與 RWD 一行不換 ===== */
.header {
  display: flex;
  align-items: center;           /* 垂直置中 */
  justify-content: space-between;/* 左右對齊 */
  flex-wrap: nowrap;             /* ❌ 禁止換行 */
  gap: 12px;
  white-space: nowrap;           /* ❌ 禁止斷行 */
  overflow: hidden;              /* 超出隱藏 */
  text-overflow: ellipsis;       /* 長度過長時加 ... */
}

h1 {
  margin: 0;
  font-size: 2.8rem;             /* 預設電腦字體大小 */
  flex-shrink: 0;                /* 不壓縮標題 */
}

.version {
  opacity: 1;
  font-size: 1rem;
  flex-shrink: 1;                /* 可壓縮以保持同一行 */
  text-align: right;
}

/* ===== RWD 響應式縮放 ===== */
@media (max-width: 900px) {
  h1 { font-size: 2rem; }        /* 平板略縮小 */
  .version { font-size: 0.9rem; }
}

@media (max-width: 600px) {
  h1 { font-size: 1.8rem; }      /* 手機縮小約70% */
  .version { font-size: 0.8rem; }
}

@media (max-width: 400px) {
  h1 { font-size: 1.5rem; }      /* 超小螢幕再縮 */
  .version { font-size: 0.75rem; }
}



.view.hidden{display:none}
.card{background:#fff;border:1px solid var(--border);border-radius:16px;padding:14px;box-shadow:var(--shadow)}
.label{font-size:20px;opacity:1}
textarea{
  width:100%;height:140px;margin-top:6px;border:1px solid var(--border);
  border-radius:12px;padding:10px;resize:vertical;
  overflow:hidden; /* ✅ 新增：隱藏捲軸（內容多自動撐高由 JS 負責） */
}
.ck{display:flex;align-items:center;gap:8px;font-size:14px;margin:6px 0}
.range{display:flex;align-items:center;gap:8px;margin-top:8px}
.actions{display:flex;gap:10px;margin-top:12px}
.btn{border:1px solid var(--border);background:#f9fafb;border-radius:10px;padding:8px 12px;cursor:pointer}
.btn.primary{background:var(--amber);color:#fff;border-color:#eab308}
.btn:disabled{opacity:.5;cursor:not-allowed}
.btn.small{padding:6px 10px;font-size:12px}
.card-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}
.list{margin:0;padding-left:20px;min-height:24px}
.error{margin-top:10px;color:#b91c1c;background:#fee2e2;border:1px solid #fecaca;padding:8px;border-radius:10px}

/* ===== 分組 UI（保留，沒有使用也不影響） ===== */
.group{border:1px dashed var(--border);border-radius:12px;padding:10px;margin:10px 0;background:#fff}
.group__head{display:flex;align-items:center;gap:10px;cursor:pointer;user-select:none}
.group__body{display:none;margin-top:8px}
.group.open .group__body{display:block}

/* 統一分組輸入框高度 */
.group textarea {
  min-height: 60px;  /* ✅ 跟第一組一樣大 */
  resize: vertical;   /* 保留可以拉伸的功能 */
  overflow: hidden;   /* 捲軸隱藏，自動撐高 */
}


/* === 舞台 === */
.stage{
  position:relative;height:520px;border:1px solid var(--border);border-radius:18px;background:#fff;
  overflow:hidden;box-shadow:inset 0 2px 20px rgba(0,0,0,.04)
}
.stage.running{box-shadow:inset 0 2px 20px rgba(0,0,0,.08), 0 0 0 4px rgba(245,158,11,.15);}
.fx-canvas{position:absolute;inset:0;pointer-events:none}

/* 進度條 */
.progress{height:6px;background:#f3f4f6;border-radius:999px;overflow:hidden;margin:10px 0}
.progress__bar{height:100%;width:0%;background:linear-gradient(90deg,#fde68a,#f59e0b);transition:width .2s linear}

/* 預覽名單字體放大 */
#previewList{margin-top:6px}
#previewList span { font-size: 1.2rem; line-height: 1.8; }

/* 結果遮罩 */
.overlay{
  position:fixed; inset:0; z-index:9999; display:none; place-items:center;
  background:rgba(255,255,255,.55); backdrop-filter:blur(2px);
}
.overlay.show{ display:grid; }

/* modal */
.modal{
  position:relative;
  background:#fff;padding:24px 28px;border-radius:18px;box-shadow:var(--shadow);
  text-align:center;border:1px solid var(--border);max-width:80vw; overflow:visible;
}
.subtle{ font-size:45px; opacity:.6; margin-bottom:6px; color:#ef4444; }
.winner{ font-size:200px; font-weight:800; letter-spacing:.02em; line-height:1.1 }
.hint{ font-size:12px; opacity:.6; margin-top:8px }

/* 煙花在底、modal 在上 */
.overlay .modal { z-index: 5; }
#fireworksCanvas { z-index: 0 !important; }

/* 中獎名單（多人時自動撐高，無卷軸） */
#winnerName{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:.22em;
  max-height:none;   /* 不限制高度 */
  overflow:visible;  /* 顯示所有文字，不產生捲軸 */
}


/* 右側固定圖片（紅圈位置） */
.winner-img{
  position:absolute;
  right:-24vw;   /* 推到 modal 右側空白處 */
  top:50%;
  transform:translateY(-50%);
  width:min(25vw, 800px);
  height:auto;
  pointer-events:none; user-select:none;
  filter: drop-shadow(0 10px 20px rgba(0,0,0,.15));
}

/* 小螢幕自動靠下 */
@media (max-width: 900px){
  .winner-img{
    right: 0;
    top: 100%;
    transform: translateY(20px);
    width: 160px;
  }
}



/* 舞台放大版 */
.stage-xl{ height: 65vh; min-height: 600px; max-height: 900px; }
/* 超大舞台版 */
.stage-xxl{ height: 80vh; min-height: 700px; max-height: 1000px; }
